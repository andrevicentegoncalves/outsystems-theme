// Import core functionality and variables
@import '../../abstracts/functions';
@import '../../abstracts/variables';
@import '../../abstracts/mixins';

/**************************** Content Loading Placeholder ****************************/

//-------------------------------------------
// Configuration Variables
//-------------------------------------------

// Theme backgrounds
$empty-state-background: $color-neutral-4;                          // Light theme background
$empty-state-background-negative: rgba(255, 255, 255, 0.12);      // Dark theme background
$line-height-standard: rem(35);                                     // Standard height for lines

// Shimmer colors
$shimmer-light: rgba(255, 255, 255, 0.3);                         // Light theme shimmer
$shimmer-dark: rgba(0, 0, 0, 0.2);                                // Dark theme shimmer

//-------------------------------------------
// Animations
//-------------------------------------------

// Horizontal slide animation
@keyframes linearGlow {
    0% { transform: translateX(-150%); }
    100% { transform: translateX(150%); }
}

// Circular rotation animation
@keyframes radialGlow {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

//-------------------------------------------
// Core Mixins
//-------------------------------------------

// Shimmer overlay effect
@mixin shimmerOverlay($theme: 'light') {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        transparent 0%,
        if($theme == 'light', $shimmer-light, $shimmer-dark) 50%,
        transparent 100%
    );
}

// Base placeholder styling
@mixin baseElement($theme: 'light') {
    background-color: if($theme == 'light', $empty-state-background, $empty-state-background-negative);
    opacity: if($theme == 'light', 0.8, 1);
}

//-------------------------------------------
// Empty State Components
//-------------------------------------------

.empty-state {
    // Line Element
    .line {
        @include baseElement('light');
        border-radius: 0.5rem;
        display: block;
        height: 1rem;
        overflow: hidden;
        position: relative;
        width: 100%;

        &:before {
            @include shimmerOverlay('light');
        }
    }

    // Rectangle Element
    .rectangle {
        display: block;
        overflow: hidden;
        position: relative;
        width: 100%;

        &:before {
            @include baseElement('light');
            border-radius: 2px;
            content: "";
            display: block;
            padding-bottom: 60%;
        }

        &:after {
            @include shimmerOverlay('light');
        }

        &.hasHeight:before {
            height: 100%;
            padding-bottom: 0;
        }
    }

    // Square Element
    .square {
        overflow: hidden;
        position: relative;
        width: 5em;

        &:before {
            @include baseElement('light');
            border-radius: 0.5em;
            content: "";
            display: block;
            padding-bottom: 100%;
        }

        &:after {
            @include shimmerOverlay('light');
            border-radius: 0.5em;
        }
    }

    // Circle Element
    .circle {
        overflow: hidden;
        position: relative;
        width: 5em;

        &:before {
            @include baseElement('light');
            border-radius: 50%;
            content: "";
            display: block;
            padding-bottom: 100%;
        }

        &:after {
            @include shimmerOverlay('light');
            border-radius: 50%;
        }
    }

    //-------------------------------------------
    // Theme Variations
    //-------------------------------------------

    &.negative {
        .line {
            @include baseElement('dark');
            &:before { @include shimmerOverlay('dark'); }
        }

        .rectangle {
            &:before { @include baseElement('dark'); }
            &:after { @include shimmerOverlay('dark'); }
        }

        .square {
            &:before { @include baseElement('dark'); }
            &:after { @include shimmerOverlay('dark'); }
        }

        .circle {
            &:before { @include baseElement('dark'); }
            &:after { @include shimmerOverlay('dark'); }
        }
    }

    //-------------------------------------------
    // Animation Variations
    //-------------------------------------------

    &.animation {
        // Linear animations
        .content-block:before,
        .line:before,
        .square:after,
        .rectangle:after {
            animation: linearGlow 2s infinite;
        }

        // Radial animations
        .circle:after,
        .square.rounded:after {
            animation: radialGlow 2s infinite linear;
            mask-image: linear-gradient(
                90deg,
                transparent,
                black 20%,
                black 80%,
                transparent
            );
            -webkit-mask-image: linear-gradient(
                90deg,
                transparent,
                black 20%,
                black 80%,
                transparent
            );
        }
    }
}

//-------------------------------------------
// Responsive & Standardized Styles
//-------------------------------------------

// Mobile optimizations
.phone td {
    flex-direction: column;
}

// Standard variations
.line-list-standard {
    .line {
        height: var(--line-height-standard);
        border-radius: var(--border-radius-extra-soft);
    }
}

.rectangle-list-standard {
    .rectangle {
        border-radius: var(--border-radius-extra-soft);
    }
}