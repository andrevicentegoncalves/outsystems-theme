@import '../../abstracts/functions';
@import '../../abstracts/variables';
@import '../../abstracts/mixins';

/**************************** Need Help ****************************/

//-------------------------------------------
// Variables
//-------------------------------------------

$banner-need-help-height: rem(200);
$banner-need-help-height-phone: rem(265);

//-------------------------------------------
// Base Container
//-------------------------------------------

.need-help {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-xl);
    text-align: center;
    height: 100%;
    width: 100%;

    //-------------------------------------------
    // Title
    //-------------------------------------------

    &__title {
        font-size: $font-size-base * 2;
        font-weight: var(--font-weight-thin);
        margin-bottom: var(--space-base);
        color: var(--color-neutral-9);
    }

    //-------------------------------------------
    // Content Layout
    //-------------------------------------------

    &__content {
        display: flex;
        flex-direction: column;
        width: 100%;
        max-width: var(--layout-max-width);
        gap: var(--space-base);

        @media (min-width: $breakpoint-tablet) {
            flex-direction: row;
            align-items: stretch;
        }

        // Without Dropdown
        &:not(:has(.need-help__dropdown-container)) {
            @media (min-width: $breakpoint-desktop) {
                width: 50%;
                max-width: var(--layout-half-max-width);
            }

            @media (min-width: $breakpoint-tablet-horizontal) and (max-width: $breakpoint-desktop) {
                width: 70%;
            }

            @media (min-width: $breakpoint-tablet) and (max-width: $breakpoint-tablet-horizontal) {
                width: 100%;
            }

            .need-help__search-container { flex: 3; }
            .need-help__button { flex: 1; }

            @media (max-width: $breakpoint-phone) {
                .need-help__button { flex: none; }
            }
        }

        // With Dropdown
        &:has(.need-help__dropdown-container) {
            @media (min-width: $breakpoint-desktop) {
                width: 50%;
                max-width: var(--layout-half-max-width);
            }

            @media (min-width: $breakpoint-tablet-horizontal) and (max-width: $breakpoint-desktop) {
                width: 70%;
            }

            @media (min-width: $breakpoint-tablet) and (max-width: $breakpoint-tablet-horizontal) {
                width: 100%;
            }

            .need-help__dropdown-container { flex: 1; }
            .need-help__search-container { flex: 2; }
            .need-help__button { flex: 1; }

            @media (max-width: $breakpoint-phone) {
                .need-help__button { flex: none; }
            }
        }
    }

    //-------------------------------------------
    // Search Component
    //-------------------------------------------

    &__search {
        .form-control[data-input] {
            &:focus {
                outline: none;
                border-color: var(--color-primary);
            }
    
            &[type="search"] {
                &::-webkit-search-cancel-button,
                &::-webkit-search-decoration {
                    display: none;
                }
            }
        }
    }

    //-------------------------------------------
    // Reset Icon
    //-------------------------------------------

    .input-with-icon.input-with-icon-right .input-with-icon-content-icon{
        right: 20px;
        top: 0px;
    }

    //-------------------------------------------
    // Container Widths
    //-------------------------------------------

    &__dropdown-container,
    &__search-container,
    &__button {
        width: 100%;
    }

    //-------------------------------------------
    // Form Controls
    //-------------------------------------------

    .dropdown-container > select.dropdown-display,
    .osui-search .form-control[data-input],
    &__button {
        height: 35px;
        box-sizing: border-box;
    }

    .dropdown-container > div.dropdown-display,
    .dropdown-container > select.dropdown-display {
        border: none;
    }

    //-------------------------------------------
    // Search Customization
    //-------------------------------------------

    .osui-search {
        width: 100%;

        .form-control[data-input] {
            padding-right: var(--space-xl);
            background-position: right var(--space-s) center;
            background-repeat: no-repeat;
            background-size: 20px auto;
            width: 100%;
        }

        .search-tap.form-control[data-input] {
            background-size: 27px auto !important;
        }
    }

    //-------------------------------------------
    // Dropdown Customization
    //-------------------------------------------

    &.tablet .dropdown-container:after, 
    &.phone .dropdown-container:after, 
    &.desktop .dropdown-container:after,
    .tablet & .dropdown-container:after, 
    .phone & .dropdown-container:after, 
    .desktop & .dropdown-container:after {
        top: 13px !important; 
    }
}

//-------------------------------------------
// Mobile Adaptations
//-------------------------------------------

@media (max-width: $breakpoint-phone-horizontal) {
    .need-help {
        &__content {
            width: 100%;
        }

        .osui-search .form-control[data-input],
        .dropdown-container > select.dropdown-display,
        &__button {
            height: 35px;
        }

        .osui-search .form-control[data-input] {
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            min-width: 0;
        }
    }
}

//-------------------------------------------
// Banner Height
//-------------------------------------------

.banner-need-help-height {
    height: $banner-need-help-height; 

    @media (max-width: $breakpoint-phone-horizontal) {
        height: $banner-need-help-height-phone; 
        background-position: 35% !important;
        background-repeat: no-repeat;
    }
}