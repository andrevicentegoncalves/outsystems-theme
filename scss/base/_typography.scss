@import '../abstracts/functions';
@import '../abstracts/variables';
@import '../abstracts/mixins';

/**************************** Typography ****************************/

// Font Face Mixin
@mixin font-face-generator($family, $path, $weight, $style: normal) {
  @font-face {
    font-family: $family;
    src: url('#{$path}') format('truetype');
    font-weight: $weight;
    font-style: $style;
  }
}

// Font path based on theme
$font-path: if($is_main, '/TapAgents_TH/', 
              if($is_pat, '/TapAgents_PAT/', '/TapAgents_TH/')
            );

$weight-names: (
  100: 'Thin',
  300: 'Light',
  400: 'Regular',
  700: 'Bold'
);

// Font Face Declarations
@each $weight, $style in $weight-names {
  @include font-face-generator('Montserrat', '#{$font-path}Montserrat-#{$style}.ttf', $weight);
  @include font-face-generator('Roboto', '#{$font-path}Roboto-#{$style}.ttf', $weight);
  @include font-face-generator('Lato', '#{$font-path}Lato-#{$style}.ttf', $weight);
}

/* Typography Classes */
.font {
  // Montserrat variations
  &__montserrat {
    font-family: 'Montserrat', sans-serif;
    
    &--thin { 
      font-family: 'Montserrat', sans-serif;
      font-weight: 100;
    }
    &--light { 
      font-family: 'Montserrat', sans-serif;
      font-weight: 300;
    }
    &--regular { 
      font-family: 'Montserrat', sans-serif;
      font-weight: 400;
    }
    &--bold { 
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
    }
  }

  // Roboto variations
  &__roboto {
    font-family: 'Roboto', sans-serif;
    
    &--thin { 
      font-family: 'Roboto', sans-serif;
      font-weight: 100;
    }
    &--light { 
      font-family: 'Roboto', sans-serif;
      font-weight: 300;
    }
    &--regular { 
      font-family: 'Roboto', sans-serif;
      font-weight: 400;
    }
    &--bold { 
      font-family: 'Roboto', sans-serif;
      font-weight: 700;
    }
  }

  // Lato variations
  &__lato {
    font-family: 'Lato', sans-serif;
    
    &--thin { 
      font-family: 'Lato', sans-serif;
      font-weight: 100;
    }
    &--light { 
      font-family: 'Lato', sans-serif;
      font-weight: 300;
    }
    &--regular { 
      font-family: 'Lato', sans-serif;
      font-weight: 400;
    }
    &--bold { 
      font-family: 'Lato', sans-serif;
      font-weight: 700;
    }
  }

  // Font sizes
  &__size {
    &--xxs { font-size: var(--font-size-xxs); }
    &--xxxs { font-size: var(--font-size-xxxs); }
  }

  // Font weights
  &__weight {
    &--thin { font-weight: var(--font-weight-thin); }
    &--extra-light { font-weight: var(--font-weight-extra-light); }
  }
}

/* Content Block */
.content {
  &__text {
    font-family: 'Lato', sans-serif;
    font-weight: 400;

    &--title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
    }
    
    &--tab {
      font-family: 'Lato', sans-serif;
      font-weight: 700;
    }
    
    &--light {
      font-family: 'Roboto', sans-serif;
      font-weight: 400;
    }
  }
}

/* Button Block */
.button {
  &__text {
    font-family: 'Montserrat', sans-serif;
    font-weight: 400;
    
    &--secondary {
      font-family: 'Roboto', sans-serif;
      font-weight: 400;
    }

    &--small {
      .tablet &,
      .phone & {
        font-size: var(--font-size-xs);
      }
    }
  }
}

/* Text Block */
.text {
  &__underline {
    text-decoration: underline;
  }

  &__truncate {
    display: block;
    max-width: 100%;

    &--container {
      display: flex;
      align-items: center;
      min-width: 0; 
      max-width: 100%;
      overflow: hidden;
    }

    &--content {
      display: block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      min-width: 0;
      max-width: 100%;
    }

    /* Multi-line truncate modifier */
    &--multiline {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2; /* Adjust number for more/less lines */
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: normal;
    }

    /* Add hover state to show full content */
    &--hover {
      &:hover {
        overflow: visible;
        white-space: normal;
        word-break: break-word;
      }
    }
  }

  &__line-height {
    &--reduced {
      line-height: 1;
    }
  }

  &__align {
    &--left-mobile {
      @media (max-width: $breakpoint-phone) {
        text-align: left;
      }
    }
  }
}